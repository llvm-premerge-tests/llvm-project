import lit.formats

config.name = "shtest-python"
config.suffixes = [".txt"]
# Use lit's internal shell to avoid shell portability issues within RUN lines
# (e.g., for 'echo' commands in Windows).  Those issues should be orthogonal to
# the python directive behavior we are trying to test.
config.test_format = lit.formats.ShTest(execute_external=False)
config.test_source_root = None
config.test_exec_root = None
config.substitutions.append(("%{python}", f'"{sys.executable}"'))

config.available_features.add("enabledFeature")

prologue = lit_config.params.get("addPrologue", None)
if prologue:
    config.prologue = os.path.join(os.path.dirname(__file__), prologue)
